# ====================================
# Timelapse2 Configuration
# ====================================
# This file contains all configurable options for the Timelapse2 system.
# Changes made here will be applied on server restart, or you can use the
# web interface for real-time configuration updates.

# ====================================
# Server Configuration
# ====================================
PORT=3001
NODE_ENV=development
HOST=0.0.0.0

# ====================================
# MJPG-Streamer Configuration
# ====================================
MJPG_STREAMER_PORT=8080
MJPG_STREAMER_PATH=/usr/local/bin/mjpg_streamer
MJPG_STREAMER_WWW=/usr/local/share/mjpg-streamer/www
MJPG_STREAMER_AUTOSTART=true

# ====================================
# Timelapse Capture Settings
# ====================================
# Capture interval in seconds (1-3600)
# Options: Any number between 1 and 3600 seconds
CAPTURE_INTERVAL=5

# Image quality for timelapse captures
# Options: low (720p), medium (1080p), high (4K)
IMAGE_QUALITY=high

# Maximum storage space for captures in GB
MAX_STORAGE_GB=10

# Output directory for captured images and videos
OUTPUT_DIR=./captures
CAPTURES_DIR=./captures
VIDEOS_DIR=./videos
TEMP_DIR=./temp

# ====================================
# Camera Stream Settings
# ====================================
# Stream frame rate (affects CPU usage and smoothness)
# Options: 5, 10, 15, 20, 25, 30
STREAM_FPS=15

# Stream resolution width and height
# Predefined quality options:
# - Low: 640x480 (STREAM_WIDTH=640, STREAM_HEIGHT=480)
# - Medium: 1280x720 (STREAM_WIDTH=1280, STREAM_HEIGHT=720)  
# - High: 1920x1080 (STREAM_WIDTH=1920, STREAM_HEIGHT=1080)
STREAM_WIDTH=1280
STREAM_HEIGHT=720

# Stream quality preset (used by web interface)
# Options: low, medium, high
STREAM_QUALITY=medium

# ====================================
# Daily Schedule Settings
# ====================================
# Enable automatic daily schedule
# Options: true, false
SCHEDULE_ENABLED=false

# Daily schedule start time (24-hour format)
# Format: HH:MM (e.g., 08:00, 14:30)
SCHEDULE_START_TIME=08:00

# Daily schedule stop time (24-hour format)
# Format: HH:MM (e.g., 18:00, 22:30)
SCHEDULE_STOP_TIME=18:00

# ====================================
# Video Generation Settings  
# ====================================
# Frame rate for generated timelapse videos
# Options: 12, 15, 20, 24, 25, 30, 48, 60
VIDEO_FPS=30

# Video quality/compression settings
# Options: low, medium, high, ultra
VIDEO_QUALITY=medium

# Video codec for output files
# Options: h264, h265, vp9
VIDEO_CODEC=h264

# Video bitrate (affects file size and quality)
# Options: 1M, 2M, 5M, 10M, 20M (M = Mbps)
VIDEO_BITRATE=5M

# ====================================
# Advanced Camera Settings
# ====================================
# Camera type - determines which capture method to use
# Options: libcamera (RPi Camera Module), usb (USB Camera), fswebcam (Generic)
CAMERA_TYPE=libcamera

# Camera device identifier
# For USB cameras: 0, 1, 2, etc. or /dev/video0, /dev/video1
# For RPi Camera: 0 (default)
CAMERA_DEVICE=0

# Image resolution for timelapse captures
# These override IMAGE_QUALITY setting if specified
# Standard resolutions:
# - 720p: 1280x720
# - 1080p: 1920x1080  
# - 4K: 3840x2160
RESOLUTION_WIDTH=1920
RESOLUTION_HEIGHT=1080

# Camera rotation (degrees)
# Options: 0, 90, 180, 270
ROTATION=0

# Camera flip settings
# Options: true, false
FLIP_HORIZONTAL=false
FLIP_VERTICAL=false

# ====================================
# MJPG-Streamer Input Plugin Settings
# ====================================
# Input plugin for MJPG-Streamer
# Options: input_raspicam.so (RPi Camera), input_uvc.so (USB Camera)
MJPG_INPUT_PLUGIN=input_raspicam.so

# Plugin-specific options
# For RPi Camera: -x WIDTH -y HEIGHT -fps FPS -ex EXPOSURE
# For USB Camera: -d DEVICE -r WIDTHxHEIGHT -f FPS -q QUALITY
MJPG_INPUT_OPTIONS=-x 1280 -y 720 -fps 15 -ex auto

# ====================================
# Storage Management
# ====================================
# Auto-cleanup old files
# Options: true, false
AUTO_CLEANUP=true

# Maximum number of images to keep
# Options: Any positive integer
MAX_IMAGES=1000

# Auto-delete files older than X days
# Options: Any positive integer
CLEANUP_OLDER_THAN_DAYS=7

# Enable automatic video generation after capture sessions
# Options: true, false
AUTO_GENERATE_VIDEO=false

# ====================================
# Network & Access Settings
# ====================================
# Enable remote access from other devices on the network
# Options: true, false
ENABLE_REMOTE_ACCESS=true

# CORS origin for web requests
# Options: * (all origins), specific domain, or comma-separated list
CORS_ORIGIN=*

# Enable authentication (future feature)
# Options: true, false
ENABLE_AUTH=false

# ====================================
# Performance & Resource Settings
# ====================================
# Maximum concurrent capture operations
# Options: 1, 2, 3 (higher may cause resource issues)
MAX_CONCURRENT_CAPTURES=1

# Memory usage warning threshold (MB)
# Options: Any positive integer
MEMORY_WARNING_THRESHOLD=512

# CPU usage warning threshold (%)
# Options: 1-100
CPU_WARNING_THRESHOLD=80

# Enable hardware acceleration for video encoding (if available)
# Options: true, false
ENABLE_HARDWARE_ACCELERATION=true

# ====================================
# Logging Configuration
# ====================================
# Log level for application logging
# Options: error, warn, info, debug, trace
LOG_LEVEL=info

# Log file location
LOG_FILE=./logs/timelapse.log

# Maximum log file size (MB)
MAX_LOG_SIZE=10

# Number of log files to retain
MAX_LOG_FILES=5

# Enable access logging for HTTP requests
# Options: true, false
ENABLE_ACCESS_LOG=true

# ====================================
# Notification Settings (Future Feature)
# ====================================
# Enable email notifications
ENABLE_EMAIL_NOTIFICATIONS=false

# Email settings (if notifications enabled)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@example.com
EMAIL_PASS=your-app-password

# Enable webhook notifications  
ENABLE_WEBHOOK_NOTIFICATIONS=false

# Webhook URL for status updates
WEBHOOK_URL=https://your-webhook-url.com/timelapse

# ====================================
# Security Settings (Future Feature)
# ====================================
# API key for secure access (leave empty to disable)
API_KEY=

# JWT secret for session management
JWT_SECRET=

# Enable HTTPS (requires SSL certificates)
ENABLE_HTTPS=false

# SSL certificate paths (if HTTPS enabled)
SSL_CERT_PATH=./certs/cert.pem
SSL_KEY_PATH=./certs/key.pem

# ====================================
# Development & Debug Settings
# ====================================
# Enable debug mode (more verbose logging)
# Options: true, false
DEBUG_MODE=false

# Mock camera for development/testing
# Options: true, false
MOCK_CAMERA=false

# Enable performance monitoring
# Options: true, false
ENABLE_PERFORMANCE_MONITORING=false

# Simulate capture delays for testing (seconds)
SIMULATE_CAPTURE_DELAY=0
